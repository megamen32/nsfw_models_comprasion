# üîç NSFW Model Benchmark

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç:

* üìä **—Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å –∏ —Å–∫–æ—Ä–æ—Å—Ç—å** NSFW-–º–æ–¥–µ–ª–µ–π (–∏–∑ Hugging Face, Timm –∏ NudeNet);
* üß™ **–ø—Ä–æ–≤–æ–¥–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** –Ω–∞ —Å–≤–æ–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö –∏–ª–∏ –≤–∏–¥–µ–æ;
* ‚öôÔ∏è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é `analyze_file` –∏–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram-–±–æ—Ç–∞ —á–µ—Ä–µ–∑ `check_avatar`.

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π

| –ú–æ–¥–µ–ª—å             | Accuracy | Precision | Recall | F1    | –í—Ä–µ–º—è (—Å–µ–∫) |
| ------------------ | -------- | --------- | ------ | ----- | ----------- |
| **NUDENET**        | 0.857    | 1.000     | 0.833  | 0.909 | 0.270       |
| **ADAMCODD**       | 0.929    | 1.000     | 0.917  | 0.957 | 9.260       |
| **FALCONSAI**      | 0.571    | 0.875     | 0.583  | 0.700 | 3.990       |
| **GIACOMOARIENTI** | 0.714    | 1.000     | 0.667  | 0.800 | 3.820       |
| **LUKEJACOB2023**  | 0.857    | 1.000     | 0.833  | 0.909 | 3.680       |
| **FREEPIK**        | 0.857    | 1.000     | 0.833  | 0.909 | 12.700      |
| **MARQO**          | 0.857    | 1.000     | 0.833  | 0.909 | 1.790       |

---

## üì¶ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–æ–¥–µ–ª–∏

| –¢–∏–ø        | –ú–æ–¥–µ–ª—å ID                           | –ò—Å—Ç–æ—á–Ω–∏–∫                     |
| ---------- | ----------------------------------- | ---------------------------- |
| ü§ó HF      | `AdamCodd/vit-base-nsfw-detector`   | transformers                 |
| ü§ó HF      | `Falconsai/nsfw_image_detection`    | transformers                 |
| ü§ó HF      | `giacomoarienti/nsfw-classifier`    | transformers                 |
| ü§ó HF      | `LukeJacob2023/nsfw-image-detector` | transformers                 |
| ü§ó HF      | `Freepik/nsfw_image_detector`       | transformers                 |
| üß† Timm    | `marqo/nsfw-image-detection-384`    | timm / hf\_hub               |
| üëÄ NudeNet | `NudeDetector`                      | –ª–æ–∫–∞–ª—å–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä (nudenet) |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

2. –ü–æ–ª–æ–∂–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–∞–ø–∫—É `data/`.
   –§–∞–π–ª—ã, –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å `porn`, –±—É–¥—É—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è `NSFW`, –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî `SFW`.

3. –ó–∞–ø—É—Å—Ç–∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç –º–æ–¥–µ–ª–µ–π:

```bash
python main.py
```

---

## üß∞ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤–∏–¥–µ–æ –≤—Ä—É—á–Ω—É—é

–í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –º–æ–¥—É–ª—å [`nsfw_checker.py`](./nsfw_checker.py), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç:

* –ø—Ä–æ–≤–µ—Ä—è—Ç—å **–ª—é–±—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–ª–∏ –≤–∏–¥–µ–æ** —Å –ø–æ–º–æ—â—å—é –≤—ã–±—Ä–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏;
* –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `analyze_file()`**;
* –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å `.jpg`, `.png`, `.mp4`, `.mov` –∏ –ø—Ä.;
* –ø–æ–ª—É—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç: `is_nsfw`, `—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å`, `debug-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é`.

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```python
from nsfw_checker import analyze_file

if __name__ == "__main__":
    path = "antiwhorebot/photo_2025-05-15_13-16-35.mp4"
    is_nsfw, score, src, debug = analyze_file(path)
    print("üîç –ü—Ä–æ–≤–µ—Ä–∫–∞:", src)
    print("‚ö†Ô∏è NSFW:", is_nsfw)
    print("üìà –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å:", score)
    print("üß† –î–µ—Ç–∞–ª–∏:", debug)
```

---

## ü§ñ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ aiogram (Telegram-–±–æ—Ç)

–í `nsfw_checker.py` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `check_avatar(bot, user_id)`, –∫–æ—Ç–æ—Ä–∞—è:

* –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∞–≤–∞—Ç–∞—Ä–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
* –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ;
* –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞ NSFW;
* –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `bool`, `—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å`, `file_id`.

–ü—Ä–∏–º–µ—Ä:

```python
is_nsfw, score, file_id = await check_avatar(bot, user_id)
```

–ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∞–Ω—Ç–∏—Å–ø–∞–º/–∞–Ω—Ç–∏—à–ª—é—Ö –±–æ—Ç–æ–≤.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ main.py            # —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
‚îú‚îÄ‚îÄ nsfw_checker.py    # API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ data/              # –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –≤–∏–¥–µ–æ –¥–ª—è —Ç–µ—Å—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

---

## üß™ –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –æ—à–∏–±–æ–∫

<details>
<summary>–ù–∞–∂–º–∏, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥</summary>

```text
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏: nudenet
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn12.jpg (  sfw –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ: ['FACE_FEMALE'])
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn3.jpg (  sfw –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ: ['FACE_FEMALE'])

üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏: adamcodd
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn11.jpg (sfw)

üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏: falconsai
‚ùå –æ—à–∏–±–∫–∞ –≤ data\photo_2025-05-20_13-52-07.jpg (nsfw)
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn11.jpg (normal)
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn2.jpg (normal)
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn3.jpg (normal)
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn6.jpg (normal)
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn9.jpg (normal)

üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏: giacomoarienti
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn10.jpg (neutral)
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn11.jpg (neutral)
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn12.jpg (neutral)
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn3.jpg (neutral)

üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏: LukeJacob2023
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn11.jpg (neutral)
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn3.jpg (neutral)

üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏: Freepik
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn11.jpg (neutral)
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn3.jpg (neutral)

üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏: marqo
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn11.jpg (sfw)
‚ùå –æ—à–∏–±–∫–∞ –≤ data\porn3.jpg (sfw)
```

</details>

---
